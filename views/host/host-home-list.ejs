<%- include('../partials/head') %>
<body>
<%- include('../partials/nav') %>
  <main class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 py-10" style="width:90vw;max-width:90vw;">
    <h1 class="text-red-600 text-4xl font-extrabold text-center mb-4 drop-shadow-sm">Welcome to Airbnb</h1>
    <p class="text-gray-700 text-xl text-center mb-10">Home list</p>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 w-full max-w-6xl px-4">
      <% registeredHomes.forEach(home => { %>
        <div class="bg-white rounded-2xl ring-1 ring-gray-200 shadow-md hover:shadow-xl transform hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 ease-in-out min-h-[260px] w-full flex flex-col items-center p-6">
          <% if (home.photoUrl) { %>
            <img src="<%= home.photoUrl %>" alt="Home photo" class="w-44 h-32 object-cover rounded-xl mb-4 shadow-sm" onerror="this.style.display='none'" />
          <% } %>
          <span class="text-2xl font-semibold text-red-700 mb-3 text-center"><%= home.houseName %></span>
          <ul class="w-full flex flex-col gap-2">
            <% if (home.price) { %>
              <li class="flex items-center bg-gray-100 rounded-xl px-4 py-2 text-base text-gray-800 shadow-sm">
                <span class="font-semibold w-28">Price:</span> â‚¹<%= home.price %> / night
              </li>
            <% } %>
            <% if (home.location) { %>
              <li class="flex items-center bg-gray-100 rounded-xl px-4 py-2 text-base text-gray-800 shadow-sm">
                <span class="font-semibold w-28">Location:</span> <%= home.location %>
              </li>
            <% } %>
            <% if (home.rating) { %>
              <li class="flex items-center bg-gray-100 rounded-xl px-4 py-2 text-base text-yellow-700 shadow-sm">
                <span class="font-semibold w-28">Rating:</span> <%= home.rating %>
              </li>
            <% } %>
          </ul>
          <a href="/host/editHome/<%=home.id %>?editing=true" class="btn-yellow">Edit</a>
          <form action="/host/deleteHome/<%= home.id %>" method="POST" class="mt-4">
            <input type="hidden" name="_method" value="DELETE">
            <button type="submit" class="btn-red">Delete</button>
        </form>
        </div>
      <% }) %>
    </div>
  </main>
</body>
</html>
