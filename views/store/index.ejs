<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head') %>
</head>

<body class="bg-slate-900 text-white">
  <%- include('../partials/nav') %>

    <main
      class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-slate-900 via-blue-950 to-black py-12 w-full max-w-full px-4">
      <h1 class="text-red-400 text-4xl font-extrabold text-center mb-4 drop-shadow-sm">Welcome to Airbnb</h1>
      <p class="text-slate-300 text-xl text-center mb-10">Index!</p>

      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 w-full max-w-6xl">
        <% registeredHomes.forEach(home=> { %>
          <div
            class="bg-slate-800 rounded-2xl border border-slate-700 shadow-md hover:shadow-xl transform hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 ease-in-out min-h-[260px] w-full flex flex-col items-center p-6">

            <% if (home.photoUrl) { %>
              <img src="<%= home.photoUrl %>" alt="Home photo" class="w-44 h-32 object-cover rounded-xl mb-4 shadow-sm"
                onerror="this.style.display='none'" />
              <% } %>

                <span class="text-2xl font-semibold text-red-400 mb-3 text-center">
                  <%= home.houseName %>
                </span>

                <ul class="w-full flex flex-col gap-2 text-slate-200">
                  <% if (home.price) { %>
                    <li class="flex items-center bg-slate-700 rounded-xl px-4 py-2 text-base shadow-sm">
                      <span class="font-semibold w-28 text-white">Price:</span> â‚¹<%= home.price %> / night
                    </li>
                    <% } %>

                      <% if (home.location) { %>
                        <li class="flex items-center bg-slate-700 rounded-xl px-4 py-2 text-base shadow-sm">
                          <span class="font-semibold w-28 text-white">Location:</span>
                          <%= home.location %>
                        </li>
                        <% } %>

                          <% if (home.rating) { %>
                            <li
                              class="flex items-center bg-slate-700 rounded-xl px-4 py-2 text-base shadow-sm text-yellow-400">
                              <span class="font-semibold w-28 text-white">Rating:</span>
                              <%= home.rating %>
                            </li>
                            <% } %>
                </ul>

                <button
                  class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-xl shadow-md transition-all duration-200 mt-4">
                  Book now
                </button>
          </div>
          <% }) %>
      </div>
    </main>
</body>

</html>